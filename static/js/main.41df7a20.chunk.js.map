{"version":3,"sources":["components/Footer.jsx","components/Header.jsx","services/useFetch.js","components/Spinner.jsx","pages/PageNotFound.jsx","pages/Products.jsx","others/Reducer.jsx","others/Context.jsx","pages/Detail.jsx","pages/Cart.jsx","services/shippingService.js","pages/Checkout.jsx","pages/Home.jsx","App.jsx","others/ErrorBoundary.jsx","index.js"],"names":["Footer","React","createElement","activeStyle","color","Header","Link","to","alt","src","NavLink","products","useFetch","url","isMounted","useRef","data","setData","useState","error","setError","loading","setLoading","useEffect","current","Promise","resolve","setTimeout","includes","id","parseInt","split","pop","product","find","p","then","json","catch","e","finally","Spinner","className","PageNotFound","Products","size","setSize","category","useParams","filteredProducts","filter","skus","s","length","Fragment","htmlFor","value","onChange","target","map","key","concat","process","image","name","price","cartReducer","cartState","action","type","Error","sku","i","_objectSpread","quantity","checkoutReducer","checkoutState","event","CartContext","createContext","initialCartState","storedCart","localStorage","getItem","JSON","parse","err","console","CartProvider","children","cart","dispatch","useReducer","setItem","stringify","Provider","ShippingContext","initialShippingAddress","storedShipping","ShippingAddressProvider","shippingAddress","dispatchShipping","Detail","useContext","setSku","navigate","useNavigate","description","onClick","disabled","Cart","urls","useFetchAll","numInCart","useMemo","reduce","total","item","itemInCart","aria-label","STATUS","Checkout","totalPrice","status","setStatus","saveError","setSaveError","touched","dispatchTouched","errors","address","result","city","country","getErrors","isValid","Object","keys","handleChange","persist","handleBlur","async","handleSubmit","preventDefault","index","findIndex","a","push","success","saveShippingAddress","style","fontWeight","Math","ceil","onSubmit","marginBottom","role","errKey","onBlur","Home","setCategory","array","prodCat","Set","c","App","Routes","Route","path","element","ErrorBoundary","Component","constructor","props","super","this","state","hasError","render","ReactDOM","HashRouter","document","getElementById"],"mappings":"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","file":"static/js/main.41df7a20.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Footer() {\n  return (\n    <footer>\n      <p>\n        This site is created for demonstrative purposes only and does not offer\n        any real products or services.\n      </p>\n      <p>&copy; Mohamed Nawaz @ CleanCodeOnline 2021</p>\n    </footer>\n  );\n}\n","import React from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\n\nconst activeStyle = {\n  color: \"lightblue\",\n};\n\nexport default function Header() {\n  return (\n    <header>\n      <nav>\n        <ul>\n          <li>\n            <Link to=\"/\">\n              <img alt=\"Carved Rock Fitness\" src=\"/fitness-care/images/logo.png\" />\n            </Link>\n          </li>\n          <li>\n            <NavLink activeStyle={activeStyle} to=\"/shoes\">\n              Shoes\n            </NavLink>\n          </li>\n          <li>\n            <NavLink activeStyle={activeStyle} to=\"/gym\">\n              Muscle\n            </NavLink>\n          </li>\n          <li>\n            <NavLink activeStyle={activeStyle} to=\"/streaching\">\n              Fitness\n            </NavLink>\n          </li>\n          <li>\n            <NavLink activeStyle={activeStyle} to=\"/cart\">\n              Cart\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n}\n","import React from \"react\";\n// const baseUrl = process.env.REACT_APP_API_BASE_URL;\n\nconst products = [\n  {\n    \"id\": 1,\n    \"category\": \"shoes\",\n    \"image\": \"shoe1.jpg\",\n    \"name\": \"Hiker\",\n    \"price\": 94.95,\n    \"skus\": [\n      {\n        \"sku\": \"17\",\n        \"size\": 7\n      },\n      {\n        \"sku\": \"18\",\n        \"size\": 8\n      }\n    ],\n    \"description\": \"This rugged boot will get you up the mountain safely.\"\n  },\n  {\n    \"id\": 2,\n    \"category\": \"gym\",\n    \"image\": \"gym2.png\",\n    \"name\": \"Dumbells and shoes\",\n    \"price\": 383.85,\n    \"skus\": [\n      {\n        \"sku\": \"17\",\n        \"size\": 7\n      },\n      {\n        \"sku\": \"18\",\n        \"size\": 8\n      }\n    ],\n    \"description\": \"Pair of black colored dumbells and shoes.\"\n  },\n  {\n    \"id\": 3,\n    \"category\": \"shoes\",\n    \"image\": \"shoe2.jpg\",\n    \"name\": \"Climber\",\n    \"price\": 78.99,\n    \"skus\": [\n      {\n        \"sku\": \"28\",\n        \"size\": 8\n      },\n      {\n        \"sku\": \"29\",\n        \"size\": 9\n      }\n    ],\n    \"description\": \"Sure-footed traction in slippery conditions.\"\n  },\n  {\n    \"id\": 4,\n    \"category\": \"gym\",\n    \"image\": \"gym4.png\",\n    \"name\": \"Long barbell\",\n    \"price\": 482.5,\n    \"skus\": [\n      {\n        \"sku\": \"39\",\n        \"size\": 9\n      }\n    ],\n    \"description\": \"Long sized heavy category barbell.\"\n  },\n  {\n    \"id\": 5,\n    \"category\": \"streaching\",\n    \"image\": \"streaching3.png\",\n    \"name\": \"Fitness ball\",\n    \"price\": 500,\n    \"skus\": [\n      {\n        \"sku\": \"37\",\n        \"size\": 7\n      },\n      {\n        \"sku\": \"39\",\n        \"size\": 9\n      }\n    ],\n    \"description\": \"Heavy sized fitness exercise ball.\"\n  },\n  {\n    \"id\": 6,\n    \"category\": \"gym\",\n    \"image\": \"gym1.png\",\n    \"name\": \"Dumbells and muscle streaching cable\",\n    \"price\": 400.85,\n    \"skus\": [\n      {\n        \"sku\": \"37\",\n        \"size\": 7\n      },\n      {\n        \"sku\": \"38\",\n        \"size\": 8\n      }\n    ],\n    \"description\": \"Pair of black colored dumbells and streaching cable.\"\n  },\n  {\n    \"id\": 7,\n    \"category\": \"shoes\",\n    \"image\": \"shoe3.jpg\",\n    \"name\": \"Explorer\",\n    \"price\": 246.25,\n    \"skus\": [\n      {\n        \"sku\": \"37\",\n        \"size\": 7\n      },\n      {\n        \"sku\": \"39\",\n        \"size\": 9\n      }\n    ],\n    \"description\": \"Simple normal football for extreme conditions.\"\n  }\n]\n\n\n\n// export default function useFetch(url) {\n//   const isMounted = React.useRef(false);\n//   const [data, setData] = React.useState(null);\n//   const [error, setError] = React.useState(null);\n//   const [loading, setLoading] = React.useState(true);\n\n//   React.useEffect(() => {\n//     isMounted.current = true;\n//     async function init() {\n//       try {\n//         const response = await fetch(baseUrl + url);\n//         if (response.ok) {\n//           const json = await response.json();\n//           if (isMounted.current) setData(json);\n//         } else {\n//           throw response;\n//         }\n//       } catch (e) {\n//         if (isMounted.current) setError(e);\n//       } finally {\n//         if (isMounted.current) setLoading(false);\n//       }\n//     }\n//     init();\n\n//     return () => (isMounted.current = false);\n//   }, [url]);\n\n//   return { data, error, loading };\n// }\n\n\n\n\nexport default function useFetch(url) {\n  const isMounted = React.useRef(false);\n  const [data, setData] = React.useState(null);\n  const [error, setError] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    isMounted.current = true;\n\n    const simulateFetch = () =>\n      new Promise((resolve) => {\n        setTimeout(() => {\n          if (url.includes(\"products\")) {\n            resolve(products);\n          } else if (url.includes(\"products/\")) {\n            const id = parseInt(url.split(\"/\").pop(), 10);\n            const product = products.find((p) => p.id === id);\n            resolve(product);\n          } else {\n            resolve(null);\n          }\n        }, 500);\n      });\n\n    simulateFetch()\n      .then((json) => {\n        if (isMounted.current) setData(json);\n      })\n      .catch((e) => {\n        if (isMounted.current) setError(e);\n      })\n      .finally(() => {\n        if (isMounted.current) setLoading(false);\n      });\n\n    return () => {\n      isMounted.current = false;\n    };\n  }, [url]);\n\n  return { data, error, loading };\n}","import React from \"react\";\n\nexport default function Spinner() {\n  return (\n    <div className=\"lds-container\">\n      <div className=\"lds-dual-ring\"></div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function PageNotFound() {\n  return <h1>Page Not Found.</h1>;\n}\n","import React from \"react\";\nimport useFetch from \"../services/useFetch\";\nimport Spinner from \"../components/Spinner\";\nimport PageNotFound from \"./PageNotFound\";\nimport { useParams, Link } from \"react-router-dom\";\n\nexport default function Products() {\n  const [size, setSize] = React.useState(\"\");\n  const { category } = useParams();\n\n  const {\n    data: products,\n    error,\n    loading,\n  } = useFetch(\"products?category=\" + category);\n\n  const filteredProducts = size\n    ? products.filter((p) => p.skus.find((s) => s.size === parseInt(size)))\n    : products;\n\n  if (error) throw error;\n  if (loading) return <Spinner />;\n  if (products.length === 0) return <PageNotFound />;\n\n  return (\n    <>\n      <section id=\"filters\">\n        <label htmlFor=\"size\">Filter by Size:</label>{\" \"}\n        <select\n          id=\"size\"\n          value={size}\n          onChange={(e) => {\n            // debugger;\n            setSize(e.target.value);\n          }}\n        >\n          <option value=\"\">All sizes</option>\n          <option value=\"7\">7</option>\n          <option value=\"8\">8</option>\n          <option value=\"9\">9</option>\n        </select>\n      </section>\n      {size && <h2>{filteredProducts.length} items found</h2>}\n      <section id=\"products\">\n        {filteredProducts.map((p) => (\n          <div key={p.id} className=\"product\">\n            <Link to={`/${category}/${p.id}`}>\n              {/* <img src={`/images/${p.image}`} alt={p.name} /> */}\n              <img src={`${process.env.PUBLIC_URL}/images/${p.image}`} alt={p.name} />\n              <h3>{p.name}</h3>\n              <p>${p.price}</p>\n            </Link>\n          </div>\n        ))}\n      </section>\n    </>\n  );\n}\n","export const cartReducer = (cartState, action) => {\n  switch (action.type) {\n    default:\n      throw new Error(\"Unhandled action type \" + action.type);\n    case \"empty-cart\":\n      return [];\n    case \"add-to-cart\": {\n      const { id, sku } = action;\n      const itemInCart = cartState.find((i) => i.sku === sku);\n      if (itemInCart) {\n        return cartState.map((i) =>\n          i.sku === sku ? { ...i, quantity: i.quantity + 1 } : i\n        );\n      } else {\n        return [...cartState, { id, sku, quantity: 1 }];\n      }\n    }\n    case \"update-cart-quantity\":\n      const { sku, quantity } = action;\n      return quantity === 0\n        ? cartState.filter((i) => i.sku !== sku)\n        : cartState.map((i) => (i.sku === sku ? { ...i, quantity } : i));\n  }\n};\n\nexport const checkoutReducer = (checkoutState, action) => {\n  switch (action.type) {\n    default:\n      throw new Error(\"Unhandled action type \" + action.type);\n    case \"handle-address-change\":\n      const { e } = action;\n      return { ...checkoutState, [e.target.id]: e.target.value };\n    case \"handle-touched-change\":\n      const { event } = action;\n      return { ...checkoutState, [event.target.id]: true };\n  }\n};\n","import React from \"react\";\nimport { cartReducer, checkoutReducer } from \"./Reducer\";\n\n// ---- CART CONTEXT ---- //\nexport const CartContext = React.createContext(null);\n\n// Load cart safely\nlet initialCartState = [];\ntry {\n  const storedCart = localStorage.getItem(\"cart\");\n  if (storedCart) {\n    initialCartState = JSON.parse(storedCart);\n  }\n} catch (err) {\n  console.error(\"Failed to parse cart from localStorage\", err);\n}\n\nexport function CartProvider({ children }) {\n  const [cart, dispatch] = React.useReducer(cartReducer, initialCartState);\n\n  React.useEffect(() => {\n    try {\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n    } catch (err) {\n      console.error(\"Failed to save cart to localStorage\", err);\n    }\n  }, [cart]);\n\n  return (\n    <CartContext.Provider value={{ cart, dispatch }}>\n      {children}\n    </CartContext.Provider>\n  );\n}\n\n// ---- SHIPPING CONTEXT ---- //\nexport const ShippingContext = React.createContext(null);\n\nlet initialShippingAddress = {};\ntry {\n  const storedShipping = localStorage.getItem(\"shipping-address\");\n  if (storedShipping) {\n    initialShippingAddress = JSON.parse(storedShipping);\n  }\n} catch (err) {\n  console.error(\"Failed to parse shipping address from localStorage\", err);\n}\n\nexport function ShippingAddressProvider({ children }) {\n  const [shippingAddress, dispatchShipping] = React.useReducer(\n    checkoutReducer,\n    initialShippingAddress\n  );\n\n  React.useEffect(() => {\n    try {\n      localStorage.setItem(\n        \"shipping-address\",\n        JSON.stringify(shippingAddress)\n      );\n    } catch (err) {\n      console.error(\"Failed to save shipping address to localStorage\", err);\n    }\n  }, [shippingAddress]);\n\n  return (\n    <ShippingContext.Provider value={{ shippingAddress, dispatchShipping }}>\n      {children}\n    </ShippingContext.Provider>\n  );\n}\n","import React from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { CartContext } from \"../others/Context\";\nimport PageNotFound from \"./PageNotFound\";\nimport useFetch from \"../services/useFetch\";\nimport Spinner from \"../components//Spinner\";\n\nexport default function Detail() {\n  const { dispatch } = React.useContext(CartContext);\n  const [sku, setSku] = React.useState(\"\");\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  const { data: product, error, loading } = useFetch(\"products/\" + id);\n\n  if (loading) return <Spinner />;\n  if (!product) return <PageNotFound />;\n  if (error) throw error;\n\n  return (\n    <div id=\"detail\">\n      <div className=\"detail-column\">\n        <h1>{product.name}</h1>\n        <p>{product.description}</p>\n        <p id=\"price\">${product.price}</p>\n        <select id=\"size\" value={sku} onChange={(e) => setSku(e.target.value)}>\n          <option value=\"\">Size</option>\n          {product.skus.map((s) => (\n            <option key={s.sku} value={s.sku}>\n              {s.size}\n            </option>\n          ))}\n        </select>\n        <p>\n          <button\n            className=\"btn btn-primary\"\n            onClick={() => {\n              dispatch({ type: \"add-to-cart\", id, sku });\n              navigate(\"/cart\");\n            }}\n            disabled={!sku}\n          >\n            Add to Cart\n          </button>\n        </p>\n      </div>\n      <div className=\"detail-column\">\n        <img src={`/images/${product.image}`} alt={product.category} />\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { CartContext } from \"../others/Context\";\nimport useFetchAll from \"../services/useFetchAll\";\nimport Spinner from \"../components/Spinner\";\n\nexport default function Cart() {\n  const { cart, dispatch } = React.useContext(CartContext);\n  const navigate = useNavigate();\n  const urls = cart.map((i) => `products/${i.id}`);\n  const { data: products, loading, error } = useFetchAll(urls);\n\n  function renderItem(itemInCart) {\n    const { id, sku, quantity } = itemInCart;\n    const { price, name, image, skus } = products.find(\n      (p) => p.id === parseInt(id)\n    );\n\n    const { size } = skus.find((s) => s.sku === sku);\n\n    return (\n      <li key={sku} className=\"cart-item\">\n        <img src={`/images/${image}`} alt={name} />\n        <div>\n          <h3>{name}</h3>\n          <p>${price * quantity}</p>\n          <p>Size: {size}</p>\n          <p>\n            <select\n              aria-label={`Select quantity for ${name} size ${size}`}\n              onChange={(e) =>\n                dispatch({\n                  type: \"update-cart-quantity\",\n                  sku,\n                  quantity: parseInt(e.target.value),\n                })\n              }\n              value={quantity}\n            >\n              <option value=\"0\">Remove</option>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n            </select>\n          </p>\n        </div>\n      </li>\n    );\n  }\n\n  const numInCart = React.useMemo(\n    () => cart.reduce((total, item) => total + item.quantity, 0),\n    [cart]\n  );\n\n  if (loading) return <Spinner />;\n  if (error) throw error;\n\n  return (\n    <>\n      <section id=\"cart\">\n        {cart.length === 0 ? (\n          <h1>Cart is empty</h1>\n        ) : numInCart === 1 ? (\n          `${numInCart} item found`\n        ) : (\n          `${numInCart} items found`\n        )}\n        <ul>{cart.map(renderItem)}</ul>\n      </section>\n      {cart.length ? (\n        <p>\n          <button\n            className=\"btn btn-primary\"\n            onClick={() => navigate(\"/checkout\")}\n          >\n            Checkout\n          </button>\n        </p>\n      ) : null}\n    </>\n  );\n}\n","// const baseUrl = process.env.REACT_APP_API_BASE_URL;\n\nconst shippingAddress = [\n  {\n    \"city\": \"Mumbai\",\n    \"country\": \"India\",\n    \"id\": 1\n  },\n  {\n    \"city\": \"London\",\n    \"country\": \"United Kingdom\",\n    \"id\": 2\n  },\n  {\n    \"country\": \"United Kingdom\",\n    \"city\": \"London\",\n    \"id\": 3\n  }\n];\n\n// export async function getShippingAddress(userId) {\n//   return fetch(baseUrl + \"shippingAddress/\" + userId).then((response) => {\n//     if (response.ok) return response.json();\n//     throw response;\n//   });\n// }\n\n// export async function saveShippingAddress(address) {\n//   return fetch(baseUrl + \"shippingAddress\", {\n//     method: \"POST\",\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//     },\n//     body: JSON.stringify(address),\n//   });\n// }\n\nexport async function getShippingAddress(userId) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const address = shippingAddress.find((addr) => addr.id === parseInt(userId));\n      if (address) resolve(address);\n      else reject(new Error(\"Shipping address not found\"));\n    }, 200);\n  });\n}\n\nexport async function saveShippingAddress(address) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      const index = shippingAddress.findIndex((a) => a.id === address.id);\n      if (index >= 0) {\n        shippingAddress[index] = address;\n      } else {\n        shippingAddress.push(address);\n      }\n      resolve({ success: true });\n    }, 200);\n  });\n}\n","import React from \"react\";\nimport { CartContext, ShippingContext } from \"../others/Context\";\nimport { checkoutReducer } from \"../others/Reducer\";\nimport { saveShippingAddress } from \"../services/shippingService\";\nimport useFetchAll from \"../services/useFetchAll\";\nimport Spinner from \"../components/Spinner\";\n\nconst STATUS = {\n  IDLE: \"IDLE\",\n  SUBMITTING: \"SUBMITTING\",\n  SUBMITTED: \"SUBMITTED\",\n  COMPLETED: \"COMPLETED\",\n  PAYED: \"PAYED\",\n};\n\n// Declaring outside component to avoid recreation on each render\n// const emptyAddress = {\n//   city: \"\",\n//   country: \"\",\n// };\n\nexport default function Checkout() {\n  let totalPrice = 0;\n  const { cart, dispatch } = React.useContext(CartContext);\n  const urls = cart.map((i) => `products/${i.id}`);\n  const { data: products, loading, error } = useFetchAll(urls);\n  const { shippingAddress, dispatchShipping } =\n    React.useContext(ShippingContext);\n\n  // const [address, setAddress] = React.useState(emptyAddress);\n  // const [address, dispatchAddress] = React.useReducer(\n  //   checkoutReducer,\n  //   emptyAddress\n  // );\n  const [status, setStatus] = React.useState(STATUS.IDLE);\n  const [saveError, setSaveError] = React.useState(null);\n  // const [touched, setTouched] = React.useState({});\n  const [touched, dispatchTouched] = React.useReducer(checkoutReducer, {});\n\n  const errors = getErrors(shippingAddress);\n  const isValid = Object.keys(errors).length === 0;\n\n  function getErrors(address) {\n    const result = {};\n    if (!address.city) result.city = \"city is required\";\n    if (!address.country) result.country = \"country is required\";\n    return result;\n  }\n\n  function handleChange(e) {\n    e.persist();\n    // setAddress((currAddress) => {\n    //   return { ...currAddress, [e.target.id]: e.target.value };\n    // });\n    dispatchShipping({ type: \"handle-address-change\", e });\n  }\n\n  function handleBlur(event) {\n    event.persist();\n    // setTouched((curr) => {\n    //   return { ...curr, [event.target.id]: true };\n    // });\n    dispatchTouched({ type: \"handle-touched-change\", event });\n  }\n\n  function handleCheckout(e) {\n    e.preventDefault();\n    dispatch({ type: \"empty-cart\" });\n    setStatus(STATUS.PAYED);\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    setStatus(STATUS.SUBMITTING);\n    if (isValid) {\n      try {\n        localStorage.setItem(\n          \"shipping-address\",\n          JSON.stringify(shippingAddress)\n        );\n        await saveShippingAddress(shippingAddress);\n        setStatus(STATUS.COMPLETED);\n      } catch (e) {\n        setSaveError(e);\n      }\n    } else {\n      setStatus(STATUS.SUBMITTED);\n    }\n  }\n\n  function renderItem(itemInCart) {\n    const { id, sku, quantity } = itemInCart;\n    const { price, name, image, skus } = products.find(\n      (p) => p.id === parseInt(id)\n    );\n    const { size } = skus.find((s) => s.sku === sku);\n\n    totalPrice = totalPrice + price * quantity;\n\n    return (\n      <li key={sku} className=\"cart-item\">\n        <img src={`/images/${image}`} alt={name} />\n        <div>\n          <h3>{name}</h3>\n          <p>${price * quantity}</p>\n          <p>Size: {size}</p>\n          <p>Quantity: {quantity}</p>\n        </div>\n      </li>\n    );\n  }\n\n  const numInCart = React.useMemo(\n    () => cart.reduce((total, item) => total + item.quantity, 0),\n    [cart]\n  );\n\n  if (loading) return <Spinner />;\n  if (error) throw error;\n  if (saveError) throw saveError;\n  if (status === STATUS.PAYED) return <h1>Thanks for shopping</h1>;\n\n  return (\n    <>\n      {shippingAddress.city && shippingAddress.country ? (\n        <main id=\"checkout-main\">\n          <div className=\"cart\">\n            <h1>Cart</h1>\n            <section id=\"cart\">\n              {numInCart === 1\n                ? `${numInCart} item found`\n                : `${numInCart} items found`}\n              <ul>{cart.map(renderItem)}</ul>\n            </section>\n            <p style={{ color: \"green\", fontWeight: \"bold\" }}>{`$ ${Math.ceil(\n              totalPrice\n            )}`}</p>\n            <form onSubmit={handleCheckout}>\n              <div>\n                <input\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                  value=\"Checkout\"\n                  disabled={status === STATUS.SUBMITTING}\n                />\n              </div>\n            </form>\n          </div>\n\n          <div className=\"shipping-info\">\n            <div style={{ marginBottom: 20 }}>\n              <h1>Shipping Info</h1>\n            </div>\n            {!isValid && status === STATUS.SUBMITTED && (\n              <div role=\"alert\">\n                <p>Please fix the following errors</p>\n                <ul>\n                  {Object.keys(errors).map((errKey) => {\n                    return <li key={errKey}>{errors[errKey]}</li>;\n                  })}\n                </ul>\n              </div>\n            )}\n            <form onSubmit={handleSubmit}>\n              <div>\n                <label htmlFor=\"city\">City</label>\n                <br />\n                <input\n                  id=\"city\"\n                  type=\"text\"\n                  value={shippingAddress.city}\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                />\n                <p role=\"alert\">\n                  {(touched.city || status === STATUS.SUBMITTED) && errors.city}\n                </p>\n              </div>\n\n              <div>\n                <label htmlFor=\"country\">Country</label>\n                <br />\n                <select\n                  id=\"country\"\n                  value={shippingAddress.country}\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                >\n                  <option value=\"\">Select Country</option>\n                  <option value=\"China\">China</option>\n                  <option value=\"India\">India</option>\n                  <option value=\"United Kingdom\">United Kingdom</option>\n                  <option value=\"USA\">USA</option>\n                </select>\n                <p role=\"alert\">\n                  {(touched.country || status === STATUS.SUBMITTED) &&\n                    errors.country}\n                </p>\n              </div>\n\n              <div>\n                {status === STATUS.COMPLETED && (\n                  <p style={{ color: \"blue\" }}>Shipping address saved</p>\n                )}\n                <input\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                  value=\"Save Shipping Info\"\n                  disabled={status === STATUS.SUBMITTING}\n                />\n              </div>\n            </form>\n          </div>\n        </main>\n      ) : (\n        <main id=\"checkout-main\">\n          <div className=\"shipping-info\">\n            <h1>Shipping Info</h1>\n            {!isValid && status === STATUS.SUBMITTED && (\n              <div role=\"alert\">\n                <p>Please fix the following errors</p>\n                <ul>\n                  {Object.keys(errors).map((errKey) => {\n                    return <li key={errKey}>{errors[errKey]}</li>;\n                  })}\n                </ul>\n              </div>\n            )}\n            <form onSubmit={handleSubmit}>\n              <div>\n                <label htmlFor=\"city\">City</label>\n                <br />\n                <input\n                  id=\"city\"\n                  type=\"text\"\n                  value={shippingAddress.city}\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                />\n                <p role=\"alert\">\n                  {(touched.city || status === STATUS.SUBMITTED) && errors.city}\n                </p>\n              </div>\n\n              <div>\n                <label htmlFor=\"country\">Country</label>\n                <br />\n                <select\n                  id=\"country\"\n                  value={shippingAddress.country}\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                >\n                  <option value=\"\">Select Country</option>\n                  <option value=\"China\">China</option>\n                  <option value=\"India\">India</option>\n                  <option value=\"United Kingdom\">United Kingdom</option>\n                  <option value=\"USA\">USA</option>\n                </select>\n                <p role=\"alert\">\n                  {(touched.country || status === STATUS.SUBMITTED) &&\n                    errors.country}\n                </p>\n              </div>\n\n              <div>\n                {status === STATUS.COMPLETED && (\n                  <p style={{ color: \"blue\" }}>Shipping address saved</p>\n                )}\n                <input\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                  value=\"Save Shipping Info\"\n                  disabled={status === STATUS.SUBMITTING}\n                />\n              </div>\n            </form>\n          </div>\n        </main>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport useFetch from \"../services/useFetch\";\nimport Spinner from \"../components/Spinner\";\nimport PageNotFound from \"./PageNotFound\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Home() {\n  const [category, setCategory] = React.useState(\"\");\n\n  const { data: products, error, loading } = useFetch(\"products\");\n\n  const filteredProducts = category\n    ? products.filter((p) => p.category === category)\n    : products;\n\n  if (error) throw error;\n  if (loading) return <Spinner />;\n  if (products.length === 0) return <PageNotFound />;\n\n  const array = products.map((p) => {\n    return p.category;\n  });\n\n  const prodCat = [...new Set(array)];\n\n  return (\n    <>\n      <section id=\"filters\">\n        <label htmlFor=\"size\">Filter by Category:</label>{\" \"}\n        <select\n          id=\"size\"\n          value={category}\n          onChange={(e) => {\n            setCategory(e.target.value);\n          }}\n        >\n          <option value=\"\">Select category</option>\n          {prodCat.map((c) => (\n            <option key={c} value={c}>\n              {c}\n            </option>\n          ))}\n        </select>\n      </section>\n      {category && <h2>{filteredProducts.length} items found</h2>}\n      <section id=\"products\">\n        {filteredProducts.map((p) => (\n          <div key={p.id} className=\"product\">\n            <Link to={`/${p.category}/${p.id}`}>\n              {/* <img src={`/images/${p.image}`} alt={p.name} /> */}\n              <img src={`${process.env.PUBLIC_URL}/images/${p.image}`} alt={p.name} />\n              <h3>{p.name}</h3>\n              <p>${p.price}</p>\n            </Link>\n          </div>\n        ))}\n      </section>\n    </>\n  );\n}\n","import React from \"react\";\nimport \"./styles/App.css\";\nimport Footer from \"./components/Footer\";\nimport Header from \"./components/Header\";\nimport Products from \"./pages/Products\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Detail from \"./pages/Detail\";\nimport Cart from \"./pages/Cart\";\nimport Checkout from \"./pages/Checkout\";\nimport { ShippingAddressProvider } from \"./others/Context\";\nimport Home from \"./pages/Home\";\n\nexport default function App() {\n  return (\n    <>\n      <div className=\"content\">\n        <Header />\n        <main>\n          <Routes>\n            <Route\n              path=\"/\"\n              element={\n                <>\n                  <h1>Welcome to Fitness Care</h1>\n                  <Home />\n                </>\n              }\n            />\n            <Route path=\"/:category\" element={<Products />} />\n            <Route path=\"/:category/:id\" element={<Detail />} />\n            <Route path=\"/cart\" element={<Cart />} />\n            <Route\n              path=\"/checkout\"\n              element={\n                <ShippingAddressProvider>\n                  <Checkout />\n                </ShippingAddressProvider>\n              }\n            />\n          </Routes>\n        </main>\n      </div>\n      <Footer />\n    </>\n  );\n}\n","import React from \"react\";\n\nexport default class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>Something went wrong.</h1>;\n    }\n\n    return this.props.children;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport ErrorBoundary from \"./others/ErrorBoundary\";\nimport { HashRouter } from \"react-router-dom\";\nimport { CartProvider } from \"./others/Context\";\n\nReactDOM.render(\n  <ErrorBoundary>\n    {/* <BrowserRouter> */}\n    <HashRouter>\n      <CartProvider>\n        <App />\n      </CartProvider>\n    </HashRouter>\n    {/* </BrowserRouter> */}\n  </ErrorBoundary>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}